<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/iron-icons/notification-icons.html">
<link rel="import" href="bower_components/iron-icons/editor-icons.html">
<link rel="import" href="bower_components/iron-icon/iron-icon.html">
<link rel="import" href="bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="shared-styles.html">


<dom-module id="sig-list">

		  <template>
					 <style> /* local DOM styles go here */ 
								:host { display: inline-block; }
								iron-icon { fill: rgba(0,0,0,0); stroke: currentcolor; } 
								:host([pressed]) iron-icon { fill: currentcolor; }
								paper-button{   
										 background-color: #7d8ff5;
										 color: white;
										 font-weight: bold;}

								#subscriber{width:3%;}
					 </style>
					<div>	
					 <paper-toolbar>
								<img id="subscriber" src="list.png">
								<paper-button toggles raised on-click = "gotoEnd" style="float: right; width: 200px;}"  >
										  Scroll to bottom
								</paper-button>
					 </paper-toolbar>
					</div>
					 <style include="shared-styles">
						:host {
						  display: block;
		  				padding: 10px;
								}
						vaadin-grid{font-size: 16px;}
					 </style>

					 <iron-ajax id="my-ajax-id"
					  auto=true
					  url="http://localhost:8888/ocs/subscriber"
		 headers='{"Accept": "application/json"}'
		 on-response="responseHandler"
	debounce-duration="50">
					 </iron-ajax>

					 <vaadin-grid id="frozen" frozen-columns="2" >
								<table>
										  <colgroup> 
													 <col name="identity"/> 
													 <col name="password"/> 
													 <col name="attributes"/> 
													 <col name="enabled"/> 
										  </colgroup>
								</tbody>
								</table>
					 </vaadin-grid>


		  </template>
		  <script>
Polymer({
		  is: 'sig-list',

		  properties:{},

		  created: function() {
					 console.log("created");
		  },

		  ready: function() {
					 console.log("ready");
		  },

		  responseHandler: function(data) {
					 var grid = this.$.frozen; 
					 //grid.items = data.detail.xhr.response._links.item;
					 grid.items = data.detail.xhr.response;
		  },

		  gotoEnd: function(event){
					 var grid = this.$.frozen; 
					 grid.scrollToEnd();
		  }
});
		  </script>
</dom-module>
